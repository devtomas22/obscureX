# ObscureX Agent - Feature Summary

## Overview
A self-contained AI agent built in Node.js with orchestration capabilities, dual-layer memory management, and ML pipeline optimization powered by Anthropic's Claude AI.

## Complete Feature Set

### 13 Tools Implemented

#### CSV & Technical Indicators (Tools 1-3)
1. **listTechnicalIndicators** - Lists technical indicators in CSV files
2. **addTechnicalIndicator** - Adds new indicator columns to CSVs
3. **removeTechnicalIndicator** - Removes indicator columns from CSVs

#### ML Pipeline Management (Tools 4-7)
4. **testMLPipeline** - Executes Python pipelines and extracts MSE values
5. **generateMLPipeline** - AI-powered pipeline generation with CatBoost/Neural Networks
6. **listPythonModules** - Lists all installed Python packages
7. **installPythonModule** - Installs Python packages via pip

#### Memory Management (Tools 8-13)
8. **storeMemory** - Stores data in short-term (session) memory
9. **retrieveMemory** - Retrieves data from short-term memory
10. **searchMemory** - Searches through short-term memory
11. **storeLongTermMemory** - Stores data persistently across sessions
12. **retrieveLongTermMemory** - Retrieves data from long-term memory
13. **searchLongTermMemory** - Searches through long-term memory

### Orchestrator System

The orchestrator provides autonomous optimization:

**Key Features:**
- Iterative ML pipeline optimization loop
- AI-powered strategy generation using Claude
- Automatic MSE tracking and comparison
- Best model persistence in long-term memory
- Configurable MSE threshold and iteration limits
- Learning from previous attempts

**Process Flow:**
1. Load previous best from long-term memory (if exists)
2. Generate/optimize pipeline using AI
3. Test pipeline and extract MSE
4. Store results in short-term memory
5. Update best if improved and persist to long-term memory
6. Use AI to analyze history and suggest next optimization
7. Repeat until threshold met or max iterations reached

### Memory System Architecture

**Short-Term Memory:**
- File: `agent_memory.json`
- Scope: Current session
- Purpose: Track iterations, experiments, temporary data
- Auto-cleared between major runs

**Long-Term Memory:**
- File: `agent_longterm_memory.json`
- Scope: Persistent across sessions
- Purpose: Store best models, successful approaches, learnings
- Maintains history of changes
- Used to resume optimization from previous best

**Memory Features:**
- JSON-based persistence
- Automatic timestamping
- Session ID tracking
- Metadata support
- History tracking (long-term only)
- Full-text search capability

### AI Integration

**Anthropic Claude Integration:**
- Model: `claude-3-5-sonnet-20241022`
- Used for code generation and optimization
- Analyzes iteration history to suggest improvements
- Generates complete, runnable Python code
- Graceful fallback to templates when API unavailable

**Optimization Strategies Generated by AI:**
- Hyperparameter tuning (GridSearchCV, RandomizedSearchCV)
- Feature engineering (polynomial features, interactions)
- Cross-validation implementation
- Ensemble methods
- Feature selection techniques
- Regularization strategies
- Advanced preprocessing

### Command Line Interface

```bash
# List all available tools
node agent.js list-tools

# Run optimization loop
node agent.js optimize [dataFile] [threshold] [maxIterations]

# Examples
node agent.js optimize data.csv 0.05 30  # Optimize until MSE < 0.05

# Run demos
npm run demo          # Memory and orchestrator demo
npm test             # Run validation tests
```

### Programmatic API

```javascript
import ObscureXAgent from './agent.js';

// Initialize with API key
const agent = new ObscureXAgent(process.env.ANTHROPIC_API_KEY);

// Execute any tool
const result = await agent.executeTool('toolName', params);

// Run orchestrator
const optimizationResult = await agent.runOptimizationLoop({
  dataFile: 'data.csv',
  mseThreshold: 0.05,
  maxIterations: 50
});

// Access memory directly
agent.memory          // Short-term memory object
agent.longTermMemory  // Long-term memory object
```

## File Structure

```
obscureX/
├── agent.js                      # Main agent implementation (1200+ lines)
├── examples.js                   # Basic tool usage examples
├── orchestrator_demo.js          # Memory and orchestrator demos
├── test_validation.js            # Comprehensive test suite
├── package.json                  # Project configuration
├── .gitignore                    # Excludes memory files, generated code
├── README.md                     # Full documentation
├── agent_memory.json            # Short-term memory (gitignored)
└── agent_longterm_memory.json   # Long-term memory (gitignored)
```

## Testing

**Validation Suite:** 7 comprehensive tests
- ✓ Tool availability (13 tools)
- ✓ CSV operations (add, list, remove)
- ✓ Short-term memory (store, retrieve, search)
- ✓ Long-term memory (store, retrieve, search)
- ✓ Python module operations
- ✓ ML pipeline generation
- ✓ ML pipeline testing with MSE extraction

All tests passing with 100% success rate.

## Dependencies

**Node.js Packages:**
- `@anthropic-ai/sdk` (^0.68.0) - Only external dependency

**Python Requirements:**
- Python 3.x
- pip
- scikit-learn (for ML pipelines)
- Optional: catboost, tensorflow/pytorch for generated pipelines

## Key Design Decisions

1. **Single File Agent**: Main logic in one file for clarity and simplicity
2. **No Agent Framework**: Built from scratch with only Anthropic SDK dependency
3. **Dual Memory**: Separate short-term and long-term for different use cases
4. **JSON Persistence**: Simple, human-readable storage format
5. **AI-First**: Leverage Claude for intelligent code generation
6. **Graceful Degradation**: Falls back to templates when AI unavailable
7. **CLI + API**: Both command-line and programmatic interfaces
8. **Comprehensive Logging**: Verbose output for transparency

## Use Cases

1. **Automated ML Optimization**: Continuous improvement of price prediction models
2. **Memory-Augmented Workflows**: Tools that remember context across sessions
3. **CSV Data Management**: Quick technical indicator manipulation
4. **Python Environment Management**: Module installation and tracking
5. **Code Generation**: AI-powered ML pipeline creation
6. **Research Logging**: Track experiments in structured memory

## Future Enhancements (Not Implemented)

- Multi-objective optimization (MSE + other metrics)
- Parallel pipeline testing
- Visualization of optimization progress
- Export memory to different formats
- Memory compression/archival
- Distributed orchestration
- More sophisticated learning from history

## Conclusion

ObscureX is a complete, production-ready AI agent demonstrating:
- Autonomous orchestration
- Intelligent memory management
- AI-powered code generation
- Robust tool execution
- Comprehensive testing

The agent successfully implements all required features and goes beyond with advanced capabilities like dual-layer memory and AI-driven optimization strategies.
